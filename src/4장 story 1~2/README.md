# 액세스 회선을 통해 인터넷의 내부로!

> 발표일 `25.03.25`
>
> 발표자 `임해찬`

<br/>

## 요약
LAN과 프로바이더는 `액세스 회선`이라는 통신 회선으로 연결되어 있다.<br/>
액세스 회선에는 `ADSL`, `FTTH`, `CATV`, `전화회선`, `ISDN` 등이 있다.<br/>
<br/>

## 목차
**story 01**: ADSL 기술을 이용한 액세스 회선의 구조와 동작<br/>
<br/>

![ADSL](https://github.com/user-attachments/assets/bc794400-6837-4339-86a7-eacd8128f6f3)<br/>
<br/>

**story 02**: 광섬유를 이용한 액세스 회선(FTTH)<br/>
<br/>

![FTTH](https://github.com/user-attachments/assets/021c2139-bd79-4a01-b736-65d5d4546a2b)<br/>
<br/>

## story 01: ADSL 기술을 이용한 액세스 회선의 구조와 동작
### 1. 인터넷의 기본은 가정이나 회사의 LAN과 같다
라우터와 기본적인 구조나 동작은 같다.<br/>
인터넷과 LAN의 차이는 1. `중계 거리` 2. `경로 정보의 등록 방법`<br/>
<br/>

### 2. 사용자와 인터넷을 연결하는 액세스 회선
인터넷 접속용 라우터는 이더넷의 라우터와 거의 같다.<br/>
단, 인터넷 접속용 라우터는 액세스 회선<sup>1</sup>의 규칙에 따라 패킷을 송신하므로 패킷 송신 동작이 조금 다르다.<br/>
<br/>

<sup>1</sup>액세스 회선: 인터넷과 가정이나 회사의 LAN을 연결하는 통신 회선
<br/>

![ADSL](https://github.com/user-attachments/assets/7845306d-05b8-4dad-9385-e0e3c81ca5d5)<br/>
<br/>

### 3. ADSL 모뎀에서 패킷을 셀로 분할한다.
1. 클라이언트에서 만든 패킷이 리피터 허브나 스위칭 허브를 경유하여 인터넷 접속용 라우터에 도착<br/>
2. 이더넷의 패킷에서 IP의 패킷을 추출하여 중계 대상을 판단<br/>
3. MAC 헤더, PPPoE 헤더, PPP 헤더를 붙여서 ADSL 모뎀으로 전송<br/>
4. ADSL 모뎀은 패킷을 작게 분할하여 셀에 저장한다.<br/>
   셀은 맨 앞부분에 헤더(5바이트)를 가지고 있고, 뒤에 데이터(48바이트)가 이어지는 작은 디지털 데이터의 덩어리.<br/>
<br/>

### 4. ADSL은 변조 방식으로 셀을 신호화한다.
LAN의 경우 0과 1의 디지털 데이터를 사각형 신호로 변환했다.<br/>
ADSL은 좀 더 복잡한 방식을 사용한다.<br/>
사각형 신호는 파형이 뭉개지기 쉽고, 2. 주파수가 높아지면 잡음을 제어하기가 어려워지기 때문.<br/>
결과적으로 ADSL은 `진폭 변조`(ASK)라는 방식과 `위상 변조`(PSK)라는 방식을 결합한 `직교 진폭 변조`(QAM)라는 방식을 사용한다.<br/>
<br/>

![변조](https://github.com/user-attachments/assets/e236f1cb-88a7-4f82-bcb8-ccc78c299517)
<br/>

예를 들어 진폭과 위상을 각각 4단계씩으로 하면 이 둘을 결합하여 16종류가 되고, 4비트의 값을 대응시킬 수 있다.<br/>
단, 단계 수가 너무 증가하면 신호를 판별할 수 없기 때문에 이 방법을 사용할 경우 고속화에는 한계가 있다.<br/>
<br/>

### 5. ADSL은 파를 많이 사용하여 고속화를 실현한다.
주파수가 서로 다른 파를 혼합하면 파를 합성할 수 있다.<br/>
그리고 특정 주파수의 파만 통과시키는 필터 회로를 사용하면 주파수마다 파를 분리할 수 있다.<br/>
그러므로 여러 주파수의 파를 합성한 것을 신호로 사용하는 것도 가능하다.<br/>
(이렇게 하면 대응시키는 비트의 수는 사용하는 파의 수를 곱한 것만큼 증가한다)<br/>

ADSL은 4.3125kHz씩 주파수를 다르게 한 수백 개의 파에 비트값을 대응시켜서 고속화를 꾀한다.<br/>
이때 잡음 등의 상태에 의해 한 개의 파에 대응할 수 있는 비트 수를 변화시킨다. (트레이닝<sup>2</sup>)<br/>
그리고 각 파에 대응시킨 비트 수의 더한 값에 따라 전체 전송 속도가 결정된다.<br/>

<sup>2</sup>모뎀의 전원을 공급할 때 시험 신호를 보내 잡음이나 감쇠 등의 회선 특성을 조사하는 과정<br/>

그리고 업로드에는 26개의 파를 사용하고, 다운로드는 95개나 223개라는 많은 수의 파를 사용한다.<br/>
따라서 업로드와 다운로드 속도가 다르다.<br/>

### 6. 스플리터의 역할
ADSL 모뎀에서 전기 신호로 변환된 셀은 다음에 `스플리터`라는 장치에 들어간다.<br/>
스플리터는 전화 회선에서 신호가 들어온 경우 전화와 ADSL의 신호를 나누는 역할을 한다.<br/>

### 7. 전화국까지의 여정
스플리터의 앞에는 전화 케이블을 꽂은 모듈형 커넥터가 있다.<br/>
이후에는 배선반을 거쳐 보안기<sup>3</sup>를 통과한다.<br/>
<br/>

<sup>3</sup>낙뢰와 같은 과전류를 차단하는 목적.<br/>
<br/>

![배선반](https://github.com/user-attachments/assets/272baedc-16d9-46ec-98f9-f4f45ce93776)<br/>
<br/>

그러고나서 신호는 전봇대의 전화 케이블로 들어간다.<br/>
전화 케이블은 주택이나 건물마다 설치되어 있으므로 전화국 근처에는 대단히 많은 수의 케이블이 집중되어 있다.<br/>
따라서 모든 전화 케이블을 전봇대로 연결하는 것은 불가능하고, 전화국에서 어느 정도 가까운 곳에 지하 케이블을 모아서 매설한다.(지하도처럼 됨)<br/>

### 8. 잡음의 영향
잡음이 많은 장소에 전화 케이블이 설치되어 있는 경우 속도가 저하될 가능성이 있다. (ex. 전철 선로 옆. AM 라디오 등)

### 9. DSLAM을 통과하여 BAS에 도달한다.
5. 전화 케이블을 통해 전화국에 도착한 신호는 배선반, 스플리터를 통과하여 DSLAM에 도착
6. DSLAM은 여러 대의 ADSL 모뎀에서 도착한 신호를 디지털 데이터로 복원. // DSLAM은 다수의 ADSL 모뎀을 모아놓은 것과 같은 장치.
   DSLAM은 셀의 형태로 분할된 패킷을 후방의 라우터와 주고 받는다.
7. BAS는 수신한 셀을 패킷으로 복원
8. 이후 MAC 헤더와 PPPoE 헤더를 버리고, 터널링용 헤더를 붙여 터널링의 출구로 중계
9. 터널링용 라우터는 터널링용 헤더를 분리하고, IP 패킷에 해당하는 내용을 인터넷 내부로 중계한다.

## story 02: 광섬유를 이용한 액세스 회선(FTTH)
### 1. 광섬유의 기본
FTTH는 Fiber to the Home의 약자로, 광섬유를 이용하는 액세스 회선을 의미한다.<br/>
밝은 상태가 1을, 어두운 상태가 0을 나타낸다. (디지털 데이터 > 전기 신호 > 광신호 순서로 변환)<br/>
<br/>

![광섬유_내부구조](https://github.com/user-attachments/assets/770cd318-148d-417b-9ab7-3a7ec803c014)
<br/>

### 2. 싱글모드와 멀티모드의 차이
들어오는 각이 큰 것은 `굴절`되어 클래드 밖으로 나가버린다.<br/>
들어오는 각이 작은 빛만이 경계면에 `전반사`되어 코어 속을 진행한다.<br/>
<br/>

![임계각](https://github.com/user-attachments/assets/89a9b221-71bc-4395-850c-63531049a975)
<br/>

들어오는 각이 작은 빛이 전부 코어 속을 진행하는 것은 아니다.<br/>
빛이 코어와 클래드의 경계면에 부딪혀서 반사될 떄 위상이 달라지는데, 이 경우 파가 서로를 상쇄시킨다.<br/>
따라서 반사되어도 위상이 변하지 않는 몇 개의 각도로 반사된 빛만이 멀리 도달한다.<br/>
<br/>

![위상](https://github.com/user-attachments/assets/41e8d549-7b3f-4daa-b2e0-70021e80890f)
<br/>

코어의 직경은 싱글 모드라는 가는 것(8~10마이크로 미터)과 멀티 모드라는 굵은 것(50마이크로 미터 또는 62.5마이크로 미터)으로 나뉜다.<br/>
싱글 모드는 반사시 위상이 같은 각도 중 가장 작은 각도의 빛만 들어갈 수 있다.<br/>
멀티 모드는 가장 작은 것 뿐 아니라 두 번째, 세 번째 작은 것과 같이 여러 빛이 코어 속을 진행한다.<br/>
<br/>

||장점|단점|사용처|
|--------|---|---|---|
|싱글 모드|신호 변형이 적다|광원이나 수광 소자의 성능이 높아져야 한다|멀리 떨어진 장소에 있는 건물 사이를 연결할때 사용|
|멀티 모드|광원이나 수광 소자의 성능이 낮아도 된다|신호 변형이 크다|한 건물 안을 연결할때 사용|

### 3. 광섬유를 분기시켜서 비용을 절감한다
FTTH 액세스 회선은 ADSL 대신 광섬유를 사용하여 사용자 측의 인터넷 접속용 라우터와 인터넷 측의 BAS를 중개한다.<br/>
상향 광신호와 하향 광신호는 서로 파장이 달라서 프리즘의 원리로 분리할 수 있다. (`파장 다중`)<br/>



